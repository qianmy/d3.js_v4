<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>比例尺</title>
    <!--<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>-->
    <script type="text/javascript" src="d3/d3.js"></script>
</head>
<body>

<script>
    //线性比例尺
    var dataset = [1.2, 2.3, 0.9, 1.5, 3.3];
    var max = d3.max(dataset);
    var min = d3.min(dataset);
    var linear = d3.scaleLinear()
            .domain([min,max])
            .range([0,300]);
    console.log(linear(2.3));

    //序数比例尺
    var index = [0, 1, 2, 3, 4];
    var color = ["red", "blue", "green", "yellow", "black"];

    var ordinal = d3.scaleOrdinal()
            .domain(index)
            .range(color);
    console.log(ordinal(2));


    //添加画布
    var width = 300;    //设置画布宽度
    var height = 300;   //设置画布高度
    var svg = d3.select("body") //创建画布
            .append("svg")
            .attr("width",width)
            .attr("height",height);
    //    绘制矩形
    //x - 矩形左上角的 x 坐标
    //y - 矩形左上角的 y 坐标
    //width - 矩形的宽度
    //height - 矩形的高度

    var dataset2  = [2.5 , 2.1 , 1.7 , 1.3 , 0.9];   //  数据（表示矩形的宽度）

    var linear2 = d3.scaleLinear()
            .domain([0,d3.max(dataset2)])
            .range([0,250])

    var rectheight = 25;    //每个矩形所占的像素高度（包括空白）

    svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x",20)
            .attr("y",function(d,i){
                return i * rectheight;
            })
            .attr("width",function(d){
                return linear2(d);
            })
            .attr("height",rectheight-2)
            .attr("fill","steelblue");


</script>
</body>
</html>